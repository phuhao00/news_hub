# NewsHub - æ™ºèƒ½å†…å®¹çˆ¬å–ä¸ç®¡ç†å¹³å°

ä¸€ä¸ªç°ä»£åŒ–çš„å†…å®¹çˆ¬å–ã€ç®¡ç†å’Œå‘å¸ƒå¹³å°ï¼Œæ”¯æŒå¤šå¹³å°**çœŸå®æœç´¢**å’Œæ™ºèƒ½å†…å®¹æå–ã€‚

## ğŸš€ åŠŸèƒ½çŸ©é˜µ

| ç±»åˆ« | èƒ½åŠ› | è¯´æ˜ |
|------|------|------|
| çˆ¬å– | çœŸå®æœç´¢ã€URLç›´æŠ“ã€åçˆ¬ç­–ç•¥ | ç™¾åº¦/æœç‹—/å¿…åº”èšåˆï¼ŒUA/é—´éš”/é‡è¯• |
| å†…å®¹ | æ ‡é¢˜/æ­£æ–‡/åª’ä½“æŠ½å–ã€å»é‡ã€è´¨é‡è¯„ä¼° | MD5 å»é‡ã€å¤šæŒ‡æ ‡è´¨é‡è¯„åˆ† |
| ä»»åŠ¡ | åˆ›å»º/è°ƒåº¦/é‡è¯•ã€çŠ¶æ€è·Ÿè¸ª | pending/running/completed/failed |
| å­˜å‚¨ | MongoDB + MinIO | å…ƒæ•°æ®å…¥åº“ï¼Œåª’ä½“å…¥å¯¹è±¡å­˜å‚¨ |
| ç”Ÿæˆ | AI è§†é¢‘åˆæˆï¼ˆå¤šé£æ ¼ï¼‰ã€å¯é€‰é…éŸ³ | åŸºäºé€‰å®šå†…å®¹åˆæˆè§†é¢‘ |
| å‘å¸ƒ | å¤šå¹³å°å‘å¸ƒä¸çŠ¶æ€è·Ÿè¸ª | æ‰¹é‡å‘å¸ƒã€é”™è¯¯é‡è¯• |
| åˆ†æ | æŒ‡æ ‡ä¸è¶‹åŠ¿ã€äº’åŠ¨ç»Ÿè®¡ | æ¦‚è§ˆ/æ€§èƒ½/äº’åŠ¨ç»´åº¦ |
| è‡ªåŠ¨åŒ– | å·¥ä½œæµä¸å®šæ—¶ä»»åŠ¡ | è§¦å‘å™¨ + åŠ¨ä½œæµæ°´çº¿ |

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```mermaid
graph LR
    A[Next.js 14 å‰ç«¯] -- REST/JSON --> B[Go API (Gin)]
    B -- ä»»åŠ¡ä¸‹å‘/å›è°ƒ --> C[Python çˆ¬è™«æœåŠ¡ (FastAPI/Playwright)]
    C -- çœŸå®æœç´¢/æŠ“å– --> G[(æœç´¢å¼•æ“/ç›®æ ‡ç«™ç‚¹)]
    B -- å…ƒæ•°æ®/çŠ¶æ€ --> D[(MongoDB)]
    B -- åª’ä½“è¯»å†™ --> E[(MinIO å¯¹è±¡å­˜å‚¨)]
    subgraph åç«¯å†…éƒ¨
        B --- F[ä»»åŠ¡è°ƒåº¦å™¨/é‡è¯•]
        B --- H[å»é‡ä¸è´¨é‡è¯„ä¼°]
    end
    style D fill:#E3F2FD,stroke:#90CAF9
    style E fill:#F1F8E9,stroke:#A5D6A7
```

### æœåŠ¡ç«¯å£é…ç½®
- å‰ç«¯: `http://localhost:3000`
- Goåç«¯: `http://localhost:8081`ï¼ˆæœ¬åœ°å¼€å‘ï¼›Docker ä¸º `8080`ï¼‰
- Pythonçˆ¬è™«: `http://localhost:8001`
- MinIO: `9000`(API) / `9001`(Console)
- MongoDB: `localhost:27015`ï¼ˆæœ¬åœ°ï¼‰ï¼ŒDocker é»˜è®¤ `27017`

### æ•°æ®æ¨¡å‹ä¸å…³ç³»ï¼ˆERï¼‰

```mermaid
erDiagram
    CREATOR ||--o{ POST : has
    POST }o--o{ VIDEO : referenced_by
    VIDEO ||--o{ PUBLISHTASK : produces
    CRAWLERTASK ||--o{ CRAWLERCONTENT : generates
    CRAWLERCONTENT }o--|| POST : may_map_to

    CREATOR {
        ObjectID id
        string username
        string platform
        string profile_url
        int follower_count
        bool auto_crawl_enabled
        int crawl_interval
        time last_crawl_at
        string crawl_status
    }
    POST {
        ObjectID id
        ObjectID creator_id
        string platform
        string post_id
        string title
        string content
        string[] media_urls
        time published_at
    }
    VIDEO {
        ObjectID id
        ObjectID[] post_ids
        string style
        int duration
        string url
        string status
    }
    PUBLISHTASK {
        ObjectID id
        ObjectID video_id
        string[] platforms
        string status
    }
    CRAWLERTASK {
        ObjectID id
        string task_id
        string platform
        string url
        string status
        time created_at
    }
    CRAWLERCONTENT {
        ObjectID id
        ObjectID task_id
        string title
        string content
        string content_hash
        string author
        string platform
        string url
        time created_at
    }
```

### éƒ¨ç½²æ‹“æ‰‘

```mermaid
graph TB
    subgraph Client
        U[Browser/Creator]
    end

    subgraph Host/Dev Machine
        FE[Next.js Frontend :3000]
        BE[Go Backend (Gin) :8081]
        PY[Python Crawler :8001]
        DB[(MongoDB :27015/27017)]
        OBJ[(MinIO :9000/:9001)]
    end

    U --> FE --> BE --> PY
    BE <---> DB
    BE <---> OBJ
    PY --> DB
    PY --> OBJ
```

### ç«¯å£ä¸æœåŠ¡ä¸€è§ˆ

| æœåŠ¡ | ç«¯å£ | æè¿° | å¤‡æ³¨ |
|------|------|------|------|
| å‰ç«¯ Next.js | 3000 | Web åº”ç”¨ | å¼€å‘ç¯å¢ƒ
| Go åç«¯ | 8081 | API æœåŠ¡ | Docker é»˜è®¤ 8080
| Python çˆ¬è™« | 8001 | çˆ¬è™«/æŠ½å–æœåŠ¡ | FastAPI + Playwright
| MinIO API | 9000 | å¯¹è±¡å­˜å‚¨ API | åª’ä½“ä¸æ–‡ä»¶
| MinIO Console | 9001 | MinIO æ§åˆ¶å° | Web ç®¡ç†ç•Œé¢
| MongoDB | 27015/27017 | æ–‡æ¡£æ•°æ®åº“ | æœ¬åœ° 27015ï¼ŒDocker 27017

### ç¯å¢ƒå˜é‡ï¼ˆ.env.local ç¤ºä¾‹ï¼‰

```bash
# æ•°æ®åº“
MONGODB_URI=mongodb://localhost:27015
DB_NAME=newshub

# MinIO å¯¹è±¡å­˜å‚¨
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_USE_SSL=false
MINIO_BUCKET_NAME=newshub-media

# æœåŠ¡ç«¯å£
PORT=8081
CRAWLER_SERVICE_URL=http://localhost:8001
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆï¼ˆè¡¨ï¼‰

| æ¨¡å— | æŠ€æœ¯ | è¯´æ˜ |
|------|------|------|
| å‰ç«¯ | Next.js 14, TypeScript, Tailwind CSS | App Routerï¼Œå®æ—¶åˆ·æ–° |
| åç«¯ | Go, Gin | é«˜æ€§èƒ½ APIï¼ŒJSON æ—¥å¿— |
| çˆ¬è™« | Python, FastAPI, Playwright/Requests, BS4 | çœŸå®æœç´¢ä¸æŠ½å– |
| å­˜å‚¨ | MongoDB, MinIO | å…ƒæ•°æ® + åª’ä½“å¯¹è±¡ |
| éƒ¨ç½² | Docker Compose, Nginx | ç»Ÿä¸€ç¼–æ’ä¸åä»£ |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
# å®‰è£…å‰ç«¯ä¾èµ–
npm install

# å®‰è£…Goä¾èµ–
cd server
go mod tidy

# å®‰è£…Pythonä¾èµ–
cd ../crawler-service
pip install -r requirements.txt
```

### ç¯å¢ƒå˜é‡è¡¨

| é”® | ç¤ºä¾‹å€¼ | è¯´æ˜ |
|----|--------|------|
| MONGODB_URI | mongodb://localhost:27015 | MongoDB è¿æ¥ä¸²ï¼ˆæœ¬åœ°ï¼‰ |
| DB_NAME | newshub | æ•°æ®åº“å |
| MINIO_ENDPOINT | localhost:9000 | MinIO API ç«¯ç‚¹ |
| MINIO_ACCESS_KEY | minioadmin | MinIO è®¿é—®å¯†é’¥ |
| MINIO_SECRET_KEY | minioadmin123 | MinIO å¯†é’¥ |
| MINIO_USE_SSL | false | æ˜¯å¦å¯ç”¨ SSL |
| MINIO_BUCKET_NAME | newshub-media | åª’ä½“æ¡¶å |
| PORT | 8081 | Go åç«¯æœ¬åœ°ç«¯å£ |
| CRAWLER_SERVICE_URL | http://localhost:8001 | çˆ¬è™«æœåŠ¡åœ°å€ |
| NEXT_PUBLIC_API_URL | http://localhost/api | å‰ç«¯åœ¨ Docker ä¸‹çš„ API ä»£ç† |

### é…ç½®æ•°æ®åº“

```bash
# Windows
.\init-database.bat

# Linux/Mac
./init-database.sh

# PowerShell
.\init-database.ps1
```

### å¯åŠ¨æœåŠ¡

```powershell
# ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼Œå¯é€‰æ¸…åº“ï¼‰
./start-all.ps1               # æ­£å¸¸å¯åŠ¨
./start-all.ps1 -Interactive  # å¯åŠ¨æ—¶è¯¢é—®æ˜¯å¦æ¸…åº“
./start-all.ps1 -CleanDB      # éäº¤äº’æ¸…åº“ï¼ˆä¿ç•™ sessions/login_sessions/platform_configsï¼‰
```

### æµ‹è¯•çˆ¬è™«åŠŸèƒ½

```bash
# è¿›å…¥çˆ¬è™«æœåŠ¡ç›®å½•
cd crawler-service

# è¿è¡Œæµ‹è¯•è„šæœ¬
python test_crawler.py
```

### è®¿é—®åº”ç”¨

- **ä¸»é¡µ**: http://localhost:3000
- **çˆ¬è™«ç®¡ç†**: http://localhost:3000/crawler
- **ç™»å½•çŠ¶æ€ç®¡ç†**: http://localhost:3000/login-state
- **çˆ¬è™«æœåŠ¡ API æ–‡æ¡£**: http://localhost:8001/docs
- **åç«¯å¥åº·æ£€æŸ¥**: http://localhost:8081/health

## ğŸ“– ä½¿ç”¨æŒ‡å—ï¼ˆè¡¨ï¼‰

| åŠŸèƒ½ | å…¥å£ | åŠ¨ä½œ |
|------|------|------|
| åˆ›å»ºçˆ¬å–ä»»åŠ¡ | `/crawler` | é€‰æ‹©å¹³å°/å…³é”®è¯æˆ– URLï¼Œè®¾ç½®æ•°é‡ï¼Œå¼€å§‹ä»»åŠ¡ |
| ç›‘æ§ä»»åŠ¡çŠ¶æ€ | `/crawler` | æŸ¥çœ‹ pending/running/completed/failed |
| æµè§ˆå†…å®¹ | `/content` | æŒ‰å¹³å°/åˆ›ä½œè€…ç­›é€‰ï¼ŒæŸ¥çœ‹è¯¦æƒ…/åŸæ–‡ |
| ç”Ÿæˆè§†é¢‘ | `/generate` | é€‰æ‹©å†…å®¹ï¼Œè®¾å®šé£æ ¼/æ—¶é•¿/åˆ†è¾¨ç‡ï¼Œç”Ÿæˆ |
| å‘å¸ƒå†…å®¹ | `/publish` | é€‰æ‹©å¹³å°ä¸æ–‡æ¡ˆï¼Œæäº¤å‘å¸ƒä»»åŠ¡ |

## ğŸ”§ é…ç½®æ–‡ä»¶

### å…¨å±€é…ç½® (`config.json`)
```json
{
  "services": {
    "backend": {"port": 8080, "host": "0.0.0.0"},
    "crawler": {"port": 8001, "host": "0.0.0.0"},
    "frontend": {"port": 3000, "host": "0.0.0.0"}
  },
  "database": {
    "mongodb": {
      "uri": "mongodb://localhost:27017",
      "database": "newshub"
    }
  }
}
```

### çˆ¬è™«é…ç½® (`crawler-service/config.json`)
```json
{
  "server": {"port": 8001, "host": "0.0.0.0"},
  "crawler": {
    "headless": true,
    "timeout": 30,
    "max_concurrent": 5
  },
  "platforms": {
    "weibo": {"enabled": true, "timeout": 60},
    "bilibili": {"enabled": true, "timeout": 60}
  }
}
```

## ğŸ“Š æ”¯æŒçš„å¹³å°

| å¹³å° | æœç´¢æ”¯æŒ | æ•°æ®æ¥æº | å†…å®¹ç±»å‹ | ç‰¹æ®Šè¯´æ˜ |
|------|----------|----------|----------|----------|
| å¾®åš | âœ… | æœç´¢å¼•æ“èšåˆ | å¸–å­ã€è¯é¢˜ã€åŠ¨æ€ | é€šè¿‡æœç´¢å¼•æ“è·å–ç›¸å…³å†…å®¹ |
| Bç«™ | âœ… | æœç´¢å¼•æ“èšåˆ | è§†é¢‘ã€UPä¸»ã€å¼¹å¹• | è§†é¢‘å†…å®¹å’Œå…ƒæ•°æ®æå– |
| å°çº¢ä¹¦ | âœ… | æœç´¢å¼•æ“èšåˆ | ç¬”è®°ã€ç§è‰ã€ç”Ÿæ´»åˆ†äº« | ç”Ÿæ´»å†…å®¹ä¸°å¯Œ |
| æŠ–éŸ³ | âœ… | æœç´¢å¼•æ“èšåˆ | çŸ­è§†é¢‘ã€åˆ›ä½œè€… | é€šè¿‡ç¬¬ä¸‰æ–¹æ¸ é“è·å– |
| æ–°é—» | âœ… | å¤šæºæ–°é—»èšåˆ | æ–‡ç« ã€èµ„è®¯ | ç™¾åº¦ã€æœç‹—ã€å¿…åº”æ–°é—» |

## ğŸ›¡ï¸ çœŸå®çˆ¬å–ç­–ç•¥

### æ•°æ®æºç­–ç•¥
- **æœç´¢å¼•æ“èšåˆ**: é€šè¿‡ç™¾åº¦ã€æœç‹—ã€å¿…åº”ç­‰æœç´¢å¼•æ“è·å–å†…å®¹
- **å¤šæºéªŒè¯**: ä½¿ç”¨å¤šä¸ªæ•°æ®æºäº¤å‰éªŒè¯å†…å®¹è´¨é‡
- **æ™ºèƒ½è¿‡æ»¤**: åŸºäºå…³é”®è¯åŒ¹é…å’Œå†…å®¹ç›¸å…³æ€§è¿‡æ»¤

### åçˆ¬æœºåˆ¶
- **æ™ºèƒ½è¯·æ±‚å¤´**: æ¨¡æ‹ŸçœŸå®æµè§ˆå™¨è¡Œä¸º
- **è¯·æ±‚é—´éš”**: é¿å…é¢‘ç‡è¿‡é«˜è¢«å°
- **é”™è¯¯é‡è¯•**: è‡ªåŠ¨é‡è¯•å¤±è´¥çš„è¯·æ±‚
- **ä»£ç†æ”¯æŒ**: å¯é…ç½®ä»£ç†æ± ï¼ˆå¯é€‰ï¼‰

### å†…å®¹è´¨é‡ä¿è¯
- **ç›¸å…³æ€§æ£€æŸ¥**: ç¡®ä¿å†…å®¹ä¸æœç´¢è¯ç›¸å…³
- **é•¿åº¦è¿‡æ»¤**: è¿‡æ»¤è¿‡çŸ­æˆ–æ— æ„ä¹‰çš„å†…å®¹
- **å¹¿å‘Šè¿‡æ»¤**: è‡ªåŠ¨è¯†åˆ«å’Œè¿‡æ»¤å¹¿å‘Šå†…å®¹
- **é‡å¤æ£€æµ‹**: é¿å…é‡å¤å†…å®¹

## ğŸ“ˆ ç›‘æ§ä¸æ—¥å¿—

### ç³»ç»ŸæŒ‡æ ‡
- è®¿é—® `/metrics` æŸ¥çœ‹ç³»ç»ŸæŒ‡æ ‡
- ä»»åŠ¡æˆåŠŸç‡ã€å“åº”æ—¶é—´ç»Ÿè®¡
- å†…å­˜å’ŒCPUä½¿ç”¨æƒ…å†µ

### æ—¥å¿—ç³»ç»Ÿ
- Goåç«¯æ—¥å¿—: è‡ªåŠ¨è½®è½¬ï¼ŒJSONæ ¼å¼
- PythonæœåŠ¡æ—¥å¿—: è¯¦ç»†çš„çˆ¬å–è¿‡ç¨‹
- å‰ç«¯é”™è¯¯ç›‘æ§: å®æ—¶é”™è¯¯è¿½è¸ª

## ğŸ”„ å¼€å‘æ¨¡å¼

```bash
# å‰ç«¯å¼€å‘æœåŠ¡å™¨
npm run dev

# åç«¯çƒ­é‡è½½
cd server && go run main.go

# PythonæœåŠ¡å¼€å‘æ¨¡å¼
cd crawler-service && uvicorn main:app --reload --port 8001

# æµ‹è¯•çˆ¬è™«åŠŸèƒ½
cd crawler-service && python test_crawler.py
```

## ğŸ“¦ ç”Ÿäº§éƒ¨ç½²

### Dockeréƒ¨ç½²
```bash
# æ„å»ºé•œåƒ
docker-compose build

# å¯åŠ¨æœåŠ¡
docker-compose up -d
```

### ä¼ ç»Ÿéƒ¨ç½²
1. ç¼–è¯‘GoäºŒè¿›åˆ¶æ–‡ä»¶
2. æ„å»ºNext.jsç”Ÿäº§ç‰ˆæœ¬
3. é…ç½®Nginxåå‘ä»£ç†
4. å¯åŠ¨MongoDBå’ŒPythonæœåŠ¡

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Forkæœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/amazing-feature`
3. æäº¤æ›´æ”¹: `git commit -m 'Add some AmazingFeature'`
4. æ¨é€åˆ†æ”¯: `git push origin feature/amazing-feature`
5. æäº¤Pull Request

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦æƒ…è¯·æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ†˜ å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆä¸ç›´æ¥çˆ¬å–å¹³å°ç½‘ç«™ï¼Ÿ
A: ç°ä»£ç¤¾äº¤åª’ä½“å¹³å°éƒ½æœ‰ä¸¥æ ¼çš„åçˆ¬æœºåˆ¶ï¼Œç›´æ¥çˆ¬å–å®¹æ˜“è¢«å°ç¦ã€‚æˆ‘ä»¬é€šè¿‡æœç´¢å¼•æ“èšåˆçš„æ–¹å¼è·å–ç›¸å…³å†…å®¹ï¼Œæ›´åŠ ç¨³å®šå¯é ã€‚

### Q: çˆ¬å–çš„å†…å®¹æ˜¯çœŸå®çš„å—ï¼Ÿ
A: æ˜¯çš„ï¼æˆ‘ä»¬ä»çœŸå®çš„æœç´¢å¼•æ“è·å–å†…å®¹ï¼Œç»è¿‡æ™ºèƒ½è§£æå’Œè´¨é‡è¿‡æ»¤ï¼Œç¡®ä¿å†…å®¹çš„çœŸå®æ€§å’Œç›¸å…³æ€§ã€‚

### Q: å¦‚ä½•å¢åŠ æ–°çš„å¹³å°æ”¯æŒï¼Ÿ
A: åœ¨ `crawler-service/main.py` ä¸­æ·»åŠ æ–°çš„çˆ¬å–æ–¹æ³•ï¼Œå‚è€ƒç°æœ‰å¹³å°å®ç°ã€‚

### Q: æ•°æ®åº“è¿æ¥å¤±è´¥æ€ä¹ˆåŠï¼Ÿ
A: ç¡®ä¿MongoDBæœåŠ¡æ­£åœ¨è¿è¡Œï¼Œæ£€æŸ¥è¿æ¥é…ç½®æ˜¯å¦æ­£ç¡®ã€‚

### Q: å¦‚ä½•æµ‹è¯•çˆ¬è™«åŠŸèƒ½ï¼Ÿ
A: è¿è¡Œ `python crawler-service/test_crawler.py` æ¥æµ‹è¯•æ‰€æœ‰å¹³å°çš„çˆ¬å–åŠŸèƒ½ã€‚

---

ğŸ‰ **ç°åœ¨å°±å¼€å§‹ä½“éªŒå¼ºå¤§çš„çœŸå®å†…å®¹çˆ¬å–åŠŸèƒ½å§ï¼**

## ğŸ¬ AIè§†é¢‘ç”ŸæˆåŠŸèƒ½ â­ **æ–°å¢**

### æ™ºèƒ½è§†é¢‘åˆ¶ä½œ
NewsHubé›†æˆäº†å¼ºå¤§çš„AIè§†é¢‘ç”ŸæˆåŠŸèƒ½ï¼Œå¯ä»¥å°†çˆ¬å–çš„å†…å®¹è‡ªåŠ¨åˆ¶ä½œæˆé«˜è´¨é‡è§†é¢‘ï¼š

#### æ”¯æŒçš„è§†é¢‘é£æ ¼
- **ğŸ“º æ–°é—»æ’­æŠ¥é£æ ¼**: ä¸“ä¸šçš„æ–°é—»æŠ¥é“æ ·å¼ï¼Œé€‚åˆèµ„è®¯ç±»å†…å®¹
- **ğŸ¬ Vlogè®°å½•é£æ ¼**: ç”Ÿæ´»åŒ–çš„è§†é¢‘é£æ ¼ï¼Œé€‚åˆæ—¥å¸¸å†…å®¹åˆ†äº«
- **ğŸ“– æ•…äº‹å™è¿°é£æ ¼**: æ•…äº‹æ€§å¼ºçš„å™è¿°æ–¹å¼ï¼Œé€‚åˆæ·±åº¦å†…å®¹

#### è§†é¢‘é…ç½®é€‰é¡¹
- **æ—¶é•¿æ§åˆ¶**: 30ç§’åˆ°5åˆ†é’Ÿï¼Œçµæ´»é€‚åº”ä¸åŒå¹³å°éœ€æ±‚
- **åˆ†è¾¨ç‡é€‰æ‹©**: 1080pï¼ˆæ¨èï¼‰/ 4Kè¶…é«˜æ¸…
- **å†…å®¹ç´ æ**: æ”¯æŒå¤šæ¡çˆ¬å–å†…å®¹åˆæˆä¸€ä¸ªè§†é¢‘
- **è‡ªåŠ¨é…éŸ³**: AIè¯­éŸ³åˆæˆæŠ€æœ¯ï¼Œæ”¯æŒå¤šç§éŸ³è‰²

#### ä½¿ç”¨æµç¨‹
1. åœ¨**å†…å®¹ç®¡ç†**é¡µé¢é€‰æ‹©è¦åˆ¶ä½œè§†é¢‘çš„å†…å®¹
2. è¿›å…¥**è§†é¢‘ç”Ÿæˆ**é¡µé¢é…ç½®è§†é¢‘å‚æ•°
3. é€‰æ‹©è§†é¢‘é£æ ¼ã€æ—¶é•¿å’Œåˆ†è¾¨ç‡
4. ç‚¹å‡»ç”Ÿæˆï¼ŒAIè‡ªåŠ¨åˆ¶ä½œè§†é¢‘
5. ç”Ÿæˆå®Œæˆåå¯ç›´æ¥è·³è½¬åˆ°å‘å¸ƒç®¡ç†

## ğŸ“¤ å¤šå¹³å°å‘å¸ƒç®¡ç†

### ä¸€é”®å‘å¸ƒåˆ°ç¤¾äº¤åª’ä½“
æ”¯æŒå°†ç”Ÿæˆçš„è§†é¢‘å†…å®¹ä¸€é”®å‘å¸ƒåˆ°å¤šä¸ªä¸»æµç¤¾äº¤åª’ä½“å¹³å°ï¼š

#### æ”¯æŒå¹³å°
| å¹³å° | å›¾æ ‡ | åŠŸèƒ½ç‰¹ç‚¹ | å‘å¸ƒçŠ¶æ€è·Ÿè¸ª |
|------|------|----------|-------------|
| å¾®åš | ğŸ“± | æ”¯æŒè§†é¢‘+æ–‡æ¡ˆå‘å¸ƒ | âœ… |
| æŠ–éŸ³ | ğŸµ | çŸ­è§†é¢‘å¹³å°ä¼˜åŒ– | âœ… |
| å°çº¢ä¹¦ | ğŸ“– | ç”Ÿæ´»æ–¹å¼å†…å®¹ | âœ… |
| å“”å“©å“”å“© | ğŸ“º | è§†é¢‘å¹³å°ä¸“å± | âœ… |

#### å‘å¸ƒåŠŸèƒ½
- **æ‰¹é‡å‘å¸ƒ**: åŒæ—¶å‘å¸ƒåˆ°å¤šä¸ªå¹³å°
- **è‡ªå®šä¹‰æ–‡æ¡ˆ**: ä¸ºæ¯ä¸ªå¹³å°å®šåˆ¶å‘å¸ƒæ–‡æ¡ˆ
- **çŠ¶æ€è·Ÿè¸ª**: å®æ—¶ç›‘æ§å‘å¸ƒè¿›åº¦å’ŒçŠ¶æ€
- **é”™è¯¯å¤„ç†**: è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œé‡è¯•æœºåˆ¶
- **å‘å¸ƒé“¾æ¥**: æˆåŠŸåæä¾›å¹³å°é“¾æ¥

#### å‘å¸ƒçŠ¶æ€
- **â³ ç­‰å¾…å‘å¸ƒ**: ä»»åŠ¡å·²åˆ›å»ºï¼Œç­‰å¾…æ‰§è¡Œ
- **ğŸ”„ å‘å¸ƒä¸­**: æ­£åœ¨å‘å¹³å°å‘å¸ƒå†…å®¹  
- **âœ… å·²å‘å¸ƒ**: æˆåŠŸå‘å¸ƒï¼Œå¯æŸ¥çœ‹é“¾æ¥
- **âŒ å‘å¸ƒå¤±è´¥**: å¤±è´¥åŸå› å’Œé”™è¯¯è¯¦æƒ…

## ğŸ“‹ å†…å®¹ç®¡ç†ï¼ˆè¡¨ï¼‰

| ç±»åˆ« | èƒ½åŠ› | æ“ä½œ |
|------|------|------|
| å†…å®¹æµè§ˆ | å¤šç»´åº¦ç­›é€‰ã€å…¨æ–‡æœç´¢ã€å¡ç‰‡é¢„è§ˆ | é¢„è§ˆã€è·³è½¬åŸæ–‡ |
| å†…å®¹æ“ä½œ | æ‰¹é‡é€‰æ‹©ã€åˆ é™¤ã€å¯¼å‡º | æ‰¹é‡å¤„ç†ã€ä¸€é”®æ¸…ç† |
| è´¨é‡è¯„ä¼° | ç›¸å…³æ€§/é•¿åº¦/å¹¿å‘Š/é‡å¤ | è¯„åˆ†ä¸æ ‡æ³¨ |
| åˆ›ä½œè€… | æ¡£æ¡ˆã€å¹³å°åˆ†ç±»ã€å…³è”å†…å®¹ã€è¡¨ç°åˆ†æ | æ–°å»º/åˆ é™¤/ç­›é€‰ |

## ğŸ”„ å®Œæ•´å·¥ä½œæµç¨‹

### ä»çˆ¬å–åˆ°å‘å¸ƒçš„å®Œæ•´é“¾è·¯

```mermaid
graph TD
    A[å…³é”®è¯æœç´¢] --> B[å†…å®¹çˆ¬å–]
    B --> C[å†…å®¹ç®¡ç†]
    C --> D[AIè§†é¢‘ç”Ÿæˆ]
    D --> E[å¤šå¹³å°å‘å¸ƒ]
    E --> F[å‘å¸ƒçŠ¶æ€è·Ÿè¸ª]
    
    B --> G[å†…å®¹ç­›é€‰]
    G --> H[è´¨é‡è¯„ä¼°]
    H --> C
    
    C --> I[å†…å®¹ç¼–è¾‘]
    I --> D
    
    F --> J[æ•°æ®åˆ†æ]
    J --> K[ä¼˜åŒ–ç­–ç•¥]
```

### äº¤äº’æ—¶åºå›¾ï¼ˆçˆ¬å–ä»»åŠ¡ï¼‰

```mermaid
sequenceDiagram
    participant UI as Next.js å‰ç«¯
    participant API as Go API (Gin)
    participant CR as Python çˆ¬è™«
    participant DB as MongoDB
    participant OS as MinIO

    UI->>API: åˆ›å»ºçˆ¬å–ä»»åŠ¡ (platform, keyword, count)
    API->>DB: è®°å½•ä»»åŠ¡ (pending)
    API->>CR: ä¸‹å‘ä»»åŠ¡
    CR->>CR: å®é™…æœç´¢/æŠ“å– (Playwright/Requests)
    CR->>DB: å†™å…¥å†…å®¹ä¸ä»»åŠ¡è¿›åº¦
    CR->>OS: ä¸Šä¼ å›¾ç‰‡/è§†é¢‘
    API->>DB: æ›´æ–°ä»»åŠ¡çŠ¶æ€ (completed/failed)
    UI->>API: è½®è¯¢ä»»åŠ¡ä¸å†…å®¹
    API-->>UI: è¿”å›ä»»åŠ¡çŠ¶æ€ä¸å†…å®¹åˆ—è¡¨
```

### æ•°æ®æµè½¬å›¾

```mermaid
flowchart LR
    SRC[æœç´¢ç»“æœ/ç›®æ ‡ç«™ç‚¹] --> EXT[å†…å®¹æŠ½å–]
    EXT --> DEDUP[å»é‡]
    DEDUP --> QA[è´¨é‡è¯„ä¼°]
    QA --> DB[(MongoDB)]
    QA --> OS[(MinIO)]
    DB --> API[Go API]
    OS --> API
    API --> UI[Next.js å‰ç«¯]
```

### å…¸å‹ä½¿ç”¨åœºæ™¯

#### 1. æ–°é—»èµ„è®¯åˆ¶ä½œ
```bash
1. æœç´¢å…³é”®è¯ï¼š"äººå·¥æ™ºèƒ½æ–°é—»"
2. çˆ¬å–ç›¸å…³æ–°é—»å†…å®¹
3. ç­›é€‰é«˜è´¨é‡èµ„è®¯
4. ç”Ÿæˆæ–°é—»æ’­æŠ¥é£æ ¼è§†é¢‘
5. å‘å¸ƒåˆ°å¾®åšã€Bç«™ç­‰å¹³å°
```

#### 2. ç”Ÿæ´»å†…å®¹åˆ›ä½œ
```bash
1. æœç´¢å…³é”®è¯ï¼š"ç¾é£Ÿæ¨è"
2. çˆ¬å–å°çº¢ä¹¦ã€æŠ–éŸ³ç›¸å…³å†…å®¹
3. é€‰æ‹©ä¼˜è´¨ç”Ÿæ´»å†…å®¹
4. ç”ŸæˆVlogé£æ ¼è§†é¢‘
5. å‘å¸ƒåˆ°å¤šä¸ªç”Ÿæ´»å¹³å°
```

#### 3. æ•™è‚²å†…å®¹åˆ¶ä½œ
```bash
1. æœç´¢å…³é”®è¯ï¼š"ç¼–ç¨‹æ•™ç¨‹"
2. çˆ¬å–æŠ€æœ¯åšå®¢å’Œè§†é¢‘
3. æ•´ç†æ•™å­¦å†…å®¹
4. ç”Ÿæˆæ•…äº‹å™è¿°é£æ ¼è§†é¢‘
5. å‘å¸ƒåˆ°Bç«™ç­‰å­¦ä¹ å¹³å°
```

## ğŸ¯ åŠŸèƒ½å¯¼èˆª

### ä¸»è¦é¡µé¢å’ŒåŠŸèƒ½

| é¡µé¢ | è·¯å¾„ | ä¸»è¦åŠŸèƒ½ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|----------|
| ğŸ  **ä¸»é¡µ** | `/` | åˆ›ä½œè€…ç®¡ç†ã€å¹³å°æ¦‚è§ˆ | é¡¹ç›®é¦–é¡µå’Œåˆ›ä½œè€…ç®¡ç† |
| ğŸ“ **å†…å®¹ç®¡ç†** | `/content` | å†…å®¹æµè§ˆã€ç­›é€‰ã€ç®¡ç† | æŸ¥çœ‹å’Œç®¡ç†çˆ¬å–çš„å†…å®¹ |
| ğŸ•·ï¸ **çˆ¬è™«æ§åˆ¶** | `/crawler` | çˆ¬å–ä»»åŠ¡ç®¡ç† | åˆ›å»ºå’Œç›‘æ§çˆ¬å–ä»»åŠ¡ |
| ğŸ¬ **è§†é¢‘ç”Ÿæˆ** | `/generate` | AIè§†é¢‘åˆ¶ä½œ | å°†å†…å®¹åˆ¶ä½œæˆè§†é¢‘ |
| ğŸ“¤ **å‘å¸ƒç®¡ç†** | `/publish` | å¤šå¹³å°å‘å¸ƒæ§åˆ¶ | å‘å¸ƒè§†é¢‘åˆ°ç¤¾äº¤åª’ä½“ |

### å¿«é€ŸåŠŸèƒ½å…¥å£

```bash
# åˆ›å»ºçˆ¬å–ä»»åŠ¡
http://localhost:3000/crawler

# æŸ¥çœ‹çˆ¬å–å†…å®¹  
http://localhost:3000/content

# ç”ŸæˆAIè§†é¢‘
http://localhost:3000/generate

# å‘å¸ƒåˆ°ç¤¾äº¤åª’ä½“
http://localhost:3000/publish
```

## ğŸ“¡ API æ¥å£ï¼ˆè¡¨ï¼‰

| é¢†åŸŸ | æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|------|
| çˆ¬è™«ä»»åŠ¡ | POST | `/api/crawler/tasks` | åˆ›å»ºçˆ¬è™«ä»»åŠ¡ï¼ˆåç«¯ä»£ç†åˆ° Pythonï¼‰ |
| çˆ¬è™«ä»»åŠ¡ | GET | `/api/crawler/tasks` | åˆ—è¡¨/åˆ†é¡µ/è¿‡æ»¤ |
| çˆ¬è™«ä»»åŠ¡ | GET | `/api/crawler/tasks/{id}` | è·å–ä»»åŠ¡è¯¦æƒ… |
| çˆ¬è™«ä»»åŠ¡ | PUT | `/api/crawler/tasks/{id}/status` | æ›´æ–°ä»»åŠ¡çŠ¶æ€/é”™è¯¯ |
| çˆ¬è™«å†…å®¹ | GET | `/api/crawler/contents` | æŒ‰ä»»åŠ¡IDç­›é€‰å†…å®¹ |
| å¹³å° | GET | `/api/crawler/platforms` | æ”¯æŒå¹³å°åˆ—è¡¨ |
| åˆ›ä½œè€… | POST | `/api/creators` | æ–°å»ºåˆ›ä½œè€… |
| åˆ›ä½œè€… | GET | `/api/creators` | åˆ›ä½œè€…åˆ—è¡¨ |
| åˆ›ä½œè€… | DELETE | `/api/creators/{id}` | åˆ é™¤åˆ›ä½œè€… |
| è§†é¢‘ | POST | `/api/videos/generate` | ç”Ÿæˆè§†é¢‘ |
| è§†é¢‘ | GET | `/api/videos` | è§†é¢‘åˆ—è¡¨ |
| å‘å¸ƒ | POST | `/api/publish` | åˆ›å»ºå‘å¸ƒä»»åŠ¡ |
| å‘å¸ƒ | GET | `/api/publish/tasks` | å‘å¸ƒä»»åŠ¡åˆ—è¡¨ |

## âš¡ é«˜çº§åŠŸèƒ½

### æ™ºèƒ½å†…å®¹åˆ†æ
- **å…³é”®è¯æå–**: è‡ªåŠ¨æå–å†…å®¹å…³é”®è¯
- **æƒ…æ„Ÿåˆ†æ**: åˆ†æå†…å®¹æƒ…æ„Ÿå€¾å‘
- **è¯é¢˜åˆ†ç±»**: æ™ºèƒ½å½’ç±»å†…å®¹è¯é¢˜
- **è´¨é‡è¯„åˆ†**: åŸºäºå¤šç»´åº¦çš„å†…å®¹è´¨é‡è¯„ä¼°

### æ•°æ®ç»Ÿè®¡åˆ†æ
- **çˆ¬å–ç»Ÿè®¡**: å„å¹³å°çˆ¬å–æ•°æ®ç»Ÿè®¡
- **å†…å®¹åˆ†æ**: å†…å®¹ç±»å‹å’Œè´¨é‡åˆ†å¸ƒ
- **å‘å¸ƒæ•ˆæœ**: å¤šå¹³å°å‘å¸ƒæ•ˆæœè¿½è¸ª
- **è¶‹åŠ¿åˆ†æ**: å†…å®¹çƒ­åº¦å’Œè¶‹åŠ¿åˆ†æ

### å®šæ—¶ä»»åŠ¡
- **å®šæ—¶çˆ¬å–**: è®¾ç½®å®šæœŸçˆ¬å–ä»»åŠ¡
- **è‡ªåŠ¨ç”Ÿæˆ**: è¾¾åˆ°æ¡ä»¶è‡ªåŠ¨ç”Ÿæˆè§†é¢‘
- **å®šæ—¶å‘å¸ƒ**: æŒ‰è®¡åˆ’è‡ªåŠ¨å‘å¸ƒå†…å®¹
- **æ¸…ç†ä»»åŠ¡**: å®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®

### å®‰å…¨å’Œéšç§
- **æ•°æ®åŠ å¯†**: æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨
- **è®¿é—®æ§åˆ¶**: åŸºäºè§’è‰²çš„æƒé™ç®¡ç†
- **å®¡è®¡æ—¥å¿—**: å®Œæ•´çš„æ“ä½œæ—¥å¿—è®°å½•
- **éšç§ä¿æŠ¤**: ç¬¦åˆæ•°æ®ä¿æŠ¤æ³•è§„

## ğŸ‰ **ç«‹å³å¼€å§‹ä½“éªŒå®Œæ•´çš„å†…å®¹åˆ›ä½œå·¥ä½œæµç¨‹ï¼**

ä»æ™ºèƒ½çˆ¬å–åˆ°AIè§†é¢‘ç”Ÿæˆï¼Œå†åˆ°å¤šå¹³å°å‘å¸ƒ - NewsHubä¸ºæ‚¨æä¾›ä¸€ç«™å¼çš„å†…å®¹åˆ›ä½œè§£å†³æ–¹æ¡ˆã€‚

## ğŸ–¼ï¸ ç•Œé¢é¢„è§ˆ

> ä»¥ä¸‹ä¸ºå ä½å›¾ç¤ºä¾‹ï¼Œå®é™…é¡¹ç›®å¯æ›¿æ¢ä¸ºçœŸå®æˆªå›¾ï¼ˆå»ºè®®æ”¾ç½®äº `public/screenshots/`ï¼‰ã€‚

![ä¸»é¡µç¤ºæ„](./public/globe.svg)

![å†…å®¹ç®¡ç†ç¤ºæ„](./public/window.svg)

![å‘å¸ƒç®¡ç†ç¤ºæ„](./public/file.svg)
